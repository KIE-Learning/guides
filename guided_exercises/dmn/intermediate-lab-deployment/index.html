
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="A set of demos and guided-exercises about business automation with KIE projects" name="description"/>
<meta content="Karina Varela" name="author"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.3.1, mkdocs-material-8.3.8" name="generator"/>
<title>Vacation Days - Consuming Decisions - Learning Business Automation</title>
<link href="../../../assets/stylesheets/main.1d29e8d0.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.cbb835fc.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="light-blue" data-md-color-primary="blue" data-md-color-scheme="slate" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#vacation-days-consuming-decisions">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Learning Business Automation" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="Learning Business Automation">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Learning Business Automation
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Vacation Days - Consuming Decisions
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="light-blue" data-md-color-media="" data-md-color-primary="blue" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="light-blue" data-md-color-media="" data-md-color-primary="blue" data-md-color-scheme="default" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/kie-learning/kie-guides" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 480 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../..">
      Home
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../more/">
      Learn more
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../introduction/">
        Guided exercises
      </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Learning Business Automation" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="Learning Business Automation">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Learning Business Automation
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/kie-learning/kie-guides" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 480 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
        Home
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../more/">
        Learn more
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          Guided exercises
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Guided exercises" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Guided exercises
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" id="__nav_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1">
          DMN
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="DMN" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_1">
<span class="md-nav__icon md-icon"></span>
          DMN
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../introduction/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../getting-started/">
        Insurance Price - Getting Started
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../intermediate-lab-intro/">
        Vacation Days - Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../intermediate-lab-authoring/">
        Vacation Days - Authoring Decisions
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Vacation Days - Consuming Decisions
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Vacation Days - Consuming Decisions
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#deploying-the-decision-service">
    Deploying the Decision Service
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing-dmn-solution">
    Testing DMN Solution
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing-the-solution-via-rest-api">
    Testing the solution via REST API
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#using-the-kie-java-client">
    Using the KIE Java Client
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../advanced-lab-intro/">
        Call Center - Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../advanced-lab-authoring/">
        Call Centre - Authoring Decisions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../advanced-lab-deployment/">
        Call Centre - Consuming Decisions
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2">
          Deploying PAM on OpenShift with Operators
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Deploying PAM on OpenShift with Operators" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
          Deploying PAM on OpenShift with Operators
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../operator/introduction/">
        Using the Business Automation Operator
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../operator/trial-environment/">
        Deploying a trial environment
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../operator/version-upgrade/">
        Versions and the Operator - Starting Processes with Events
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../operator/reconciliation/">
        Automatic reconciliation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../operator/configuration/">
        Kie App Configuration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../operator/configmaps-deleteapp/">
        ConfigMaps and Deleteting Projects
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../operator/installer/">
        Operator Wizard
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" id="__nav_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3">
          Order management
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Order management" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
          Order management
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../order_management/create-order-management-app/">
        Order Management Process
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../order_management/try-order-management-app/">
        Getting started with RHPAM
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" id="__nav_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4">
          Working with event driven processes in RHPAM
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Working with event driven processes in RHPAM" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
          Working with event driven processes in RHPAM
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../pam_kafka/introduction/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pam_kafka/env-setup/">
        Environment Setup
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pam_kafka/lab-one-setup/">
        Setup - Starting Processes with Events
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pam_kafka/start-event/">
        Starting Processes with Events
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pam_kafka/emitting-events/">
        Emitting Events in Processes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pam_kafka/auditing-events/">
        Auditing through events
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" id="__nav_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5">
          Tools
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Tools" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
          Tools
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/introduction/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/getting-started/">
        Getting Started
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/authoring-decisions/">
        Authoring and testing decisions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/deploying-project/">
        Deploying and consuming services
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#deploying-the-decision-service">
    Deploying the Decision Service
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing-dmn-solution">
    Testing DMN Solution
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing-the-solution-via-rest-api">
    Testing the solution via REST API
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#using-the-kie-java-client">
    Using the KIE Java Client
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="vacation-days-consuming-decisions"><span class="enumerate-headings-plugin enumerate-heading-plugin">6.</span> Vacation Days - Consuming Decisions</h1>
<p>The first thing we should do is deploy the project. We'll deploy it in KIE Server using Business Central.</p>
<h2 id="deploying-the-decision-service"><span class="enumerate-headings-plugin enumerate-heading-plugin">6.1</span> Deploying the Decision Service</h2>
<p>With our decision model completed, we can now package our DMN model in a Deployment Unit (KJAR) and deploy it on the Execution Server. To do this:</p>
<ol>
<li>
<p>In the bread-crumb navigation in the upper-left corner, click on <code>vacation-days-decisions</code> to go back to the project’s Library View.</p>
</li>
<li>
<p>Click on the <strong>Deploy</strong> button in the upper-right corner of the screen. This will package our DMN mode in a Deployment Unit (KJAR) and deploy it onto the Execution Server (KIE-Server).</p>
</li>
<li>
<p>Go to the <strong>Execution Servers</strong> perspective by clicking on "Menu → Deploy → Execution Servers". You will see the <strong>Deployment Unit</strong> deployed on the Execution Server.</p>
</li>
</ol>
<h2 id="testing-dmn-solution"><span class="enumerate-headings-plugin enumerate-heading-plugin">6.2</span> Testing DMN Solution</h2>
<p>In this section, you will test the DMN solution with Execution Server’s Swagger interface and via Java KIE Client API.</p>
<h2 id="testing-the-solution-via-rest-api"><span class="enumerate-headings-plugin enumerate-heading-plugin">6.3</span> Testing the solution via REST API</h2>
<p>In this section, you will test the DMN solution with KIE Server’s Swagger interface.</p>
<p>The Swagger interface provides the description and documentation of the Execution Server’s RESTful API. At the same time, it allows the APIs to be called from the UI. This enables developers and users to quickly test, in this case, a deployed DMN Service.</p>
<ol>
<li>
<p>Navigate to <a href="http://localhost:8080/kie-server/docs">KIE Server</a></p>
</li>
<li>
<p>Locate the <strong>DMN Models</strong> section. The DMN API provides the DMN model as a RESTful resources, which accepts 2 operations:</p>
<ol>
<li>
<p><code>GET</code>: Retrieves the DMN model.</p>
</li>
<li>
<p><code>POST</code>: Evaluates the decisions for a given input.</p>
</li>
</ol>
</li>
<li>
<p>Expand the <code>GET</code> operation by clicking on it.</p>
</li>
<li>
<p>Click on the <strong>Try it out</strong> button.</p>
</li>
<li>
<p>Set the <strong>containerId</strong> field to <code>vacation-days-decisions</code> and set the <strong>Response content type</strong> to <code>application/json</code> and click on <strong>Execute</strong> <img alt="DMN Swagger Get" src="../../images/business_automation/dmn/dmn-swagger-get.png" width="600px"/></p>
</li>
<li>
<p>If requested, provide the username and password of your <strong>Business Central</strong> and <strong>KIE-Server</strong> user.</p>
</li>
<li>
<p>The response will be the model-description of your DMN model.</p>
</li>
</ol>
<p>Next, we will evaluate our model with some input data. We need to provide our model with the <strong>age</strong> of an employee and the number of <strong>years of service</strong>. Let’s try a number of different values to test our deicions.</p>
<ol>
<li>
<p>Expand the <code>POST</code> operation and click on the <strong>Try it out</strong> button</p>
</li>
<li>
<p>Set the <strong>containerId</strong> field to <code>vacation-days-decisions</code>. Set the <strong>Parameter content type</strong> and <strong>Response content type</strong> fields to <code>application/json</code>.</p>
</li>
<li>
<p>Pass the following request to lookup the number of vacation days for an employee of 16 years old with 1 year of service (note that the namespace of your model is probably different as it is generated. You can lookup the namespace of your model in the response/result of the <code>GET</code> operation you executed ealier, which returned the model description). </p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a>     { "dmn-context":{ "Age":16, "Years of Service":1 } }
</code></pre></div>
<ol>
<li>
<p>Click on <strong>Execute</strong>. The result value of the <code>Total Vacation Days</code> should be 27.</p>
</li>
<li>
<p>Test the service with a number of other values. See the following table for some sample values and expected output.</p>
</li>
</ol>
<table>
<colgroup>
<col style="width: 33%"/>
<col style="width: 33%"/>
<col style="width: 33%"/>
</colgroup>
<tbody>
<tr class="odd">
<td>
<p>Age</p>
</td>
<td>
<p>Years of Service</p>
</td>
<td>
<p>Total Vacation Days</p>
</td>
</tr>
<tr class="even">
<td>
<p>16</p>
</td>
<td>
<p>1</p>
</td>
<td>
<p>27</p>
</td>
</tr>
<tr class="odd">
<td>
<p>25</p>
</td>
<td>
<p>5</p>
</td>
<td>
<p>22</p>
</td>
</tr>
<tr class="even">
<td>
<p>44</p>
</td>
<td>
<p>20</p>
</td>
<td>
<p>24</p>
</td>
</tr>
<tr class="odd">
<td>
<p>44</p>
</td>
<td>
<p>30</p>
</td>
<td>
<p>30</p>
</td>
</tr>
<tr class="even">
<td>
<p>50</p>
</td>
<td>
<p>20</p>
</td>
<td>
<p>24</p>
</td>
</tr>
<tr class="odd">
<td>
<p>50</p>
</td>
<td>
<p>30</p>
</td>
<td>
<p>30</p>
</td>
</tr>
<tr class="even">
<td>
<p>60</p>
</td>
<td>
<p>20</p>
</td>
<td>
<p>30</p>
</td>
</tr>
</tbody>
</table>
<h2 id="using-the-kie-java-client"><span class="enumerate-headings-plugin enumerate-heading-plugin">6.4</span> Using the KIE Java Client</h2>
<p>Red Hat Decision Manager provides a KIE Java Client API that allows the user to interact with the KIE-Server from a Java client using a higher level API. It abstracts the data marshalling and unmarshalling and the creation and execution of the RESTful commands from the developer, allowing him/her to focus on developing business logic.</p>
<p>In this section we will create a simple Java client for our DMN model.</p>
<p><strong>IMPORTANT:</strong> If your KIE Server is exposed via https you need to configure the <code>`javax.net.ssl.trustStore and</code>javax.net.ssl.trustStorePassword<code>in the Java client code using the Remote Java API. If not, you may get a</code>rest.NoEndpointFoundException`. For more information check <a href="https://access.redhat.com/solutions/5424601">this solution</a> Red Hat's knowledge base.</p>
<ol>
<li>
<p>Create a new Maven Java JAR project in your favourite IDE (e.g. IntelliJ, Eclipse, Visual Studio Code).</p>
</li>
<li>
<p>Add the following dependency to your project: </p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a>    &lt;dependency&gt; 
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a>      &lt;groupId&gt;org.kie.server&lt;/groupId&gt; 
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a>      &lt;artifactId&gt;kie-server-client&lt;/artifactId&gt; 
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a>      &lt;version&gt;7.48.0.Final-redhat-00006&lt;/version&gt; 
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a>      &lt;scope&gt;compile&lt;/scope&gt; 
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a>    &lt;/dependency&gt;
</code></pre></div>
<ol>
<li>
<p>Create a Java package in your <code>src/main/java</code> folder with the name <code>org.kie.dmn.lab</code>.</p>
</li>
<li>
<p>In the package you’ve just created, create a Java class called <code>Main.java</code>.</p>
</li>
<li>
<p>Add a <code>public static void main(String[] args)</code> method to your main class.</p>
</li>
<li>
<p>Before we implement our method, we first define a number of constants that we will need when implementing our method (note that the values of your constants can be different depending on your environment, model namespace, etc.): </p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a>  private static final String KIE_SERVER_URL = "http://localhost:8080/kie-server/services/rest/server"; 
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a>  private static final String CONTAINER_ID = "vacation-days-decisions"; 
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a>  private static final String USERNAME = "pamAdmin"; 
<a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a>  private static final String PASSWORD = "redhatpam1!"; 
</code></pre></div>
<ol>
<li>KIE-Server client API classes can mostly be retrieved from the <code>KieServicesFactory</code> class. We first need to create a <code>KieServicesConfiguration</code> instance that will hold our credentials and defines how we want our client to communicate with the server: </li>
</ol>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a>KieServicesConfiguration kieServicesConfig = KieServicesFactory.newRestConfiguration(KIE_SERVER_URL, new EnteredCredentialsProvider(USERNAME, PASSWORD)); 
</code></pre></div>
<ol>
<li>Next, we create the <code>KieServicesClient</code>: </li>
</ol>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a>KieServicesClient kieServicesClient = KieServicesFactory.newKieServicesClient(kieServicesConfig); 
</code></pre></div>
<ol>
<li>From this client we retrieve our DMNServicesClient: </li>
</ol>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a>DMNServicesClient dmnServicesClient = kieServicesClient.getServicesClient(DMNServicesClient.class); 
</code></pre></div>
<ol>
<li>
<p>To pass the input values to our model to the Execution Server, we need to create a <code>DMNContext</code>: </p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a>DMNContext dmnContext = dmnServicesClient.newContext();
<a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a>dmnContext.set("Age", 16); dmnContext.set("Years of Service", 1);
</code></pre></div>
</li>
<li>
<p>We now have defined all the required instances needed to send a DMN evaluation request to the server: </p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a>ServiceResponse&lt;DMNResult&gt; dmnResultResponse = dmnServicesClient.evaluateAll(CONTAINER_ID, dmnContext);
</code></pre></div>
</li>
<li>
<p>Finally we can retrieve the DMN evaluation result and print it in the console:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a>DMNDecisionResult decisionResult = dmnResultResponse.getResult().getDecisionResultByName("Total Vacation Days"); System.out.println("Total vacation days: " + decisionResult.getResult()); 
</code></pre></div>
</li>
<li>
<p>Compile your project and run it. Observe the output in the console, which should say: <strong>Total vacation days: 27</strong></p>
</li>
</ol>
<p>The complete project can be found here: <a href="https://github.com/kmacedovarela/dmn-workshop-labs/tree/master/vacation-days-dmn-lab-client">https://github.com/kmacedovarela/dmn-workshop-labs/tree/master/vacation-days-dmn-lab-client</a></p>
<hr/>
<div class="md-source-file">
<small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2022-08-19</span>
</small>
</div>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" hidden="" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Back to top
          </a>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Vacation Days - Authoring Decisions" class="md-footer__link md-footer__link--prev" href="../intermediate-lab-authoring/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Vacation Days - Authoring Decisions
            </div>
</div>
</a>
<a aria-label="Next: Call Center - Introduction" class="md-footer__link md-footer__link--next" href="../advanced-lab-intro/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              Call Center - Introduction
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.prune", "toc.follow", "navigation.top"], "search": "../../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../../../assets/javascripts/bundle.0238f547.min.js"></script>
</body>
</html>